[
  {
    "id":"rolling-update-metasearch-webhook",
    "execute-command":"/home/kixz/metasearch/deploy.sh",
    "command-working-directory":"/home/kixz/metasearch",
    "include-command-output-in-response":true,
    "include-command-output-in-response-on-error":true,
    "pass-arguments-to-command":[
      {
        "source":"header",
        "name":"X-Docker-Version"
      },
      {
        "source":"payload",
        "name":"dockerhub_username"
      },
      {
        "source":"payload",
        "name":"dockerhub_password"
      }
    ],
    "trigger-rule":{
      "and":[
        {
          "match":{
            "type":"payload-hmac-sha256",
            "secret":"SECRET_CHANGE_IT",
            "parameter":{
              "source":"header",
              "name":"X-Hub-Signature-256"
            }
          }
        },
        {
          "match":{
            "type":"regex",
            "regex":"^v\\d+\\.\\d+\\.\\d+$",
            "parameter":{
              "source":"header",
              "name":"X-Docker-Version"
            }
          }
        }
      ]
    }
  }
]